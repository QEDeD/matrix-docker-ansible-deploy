# SPDX-FileCopyrightText: 2025 MDAD project contributors
# SPDX-License-Identifier: AGPL-3.0-or-later
---
# Test the actual role table display fix
- name: Test actual role table display
  hosts: localhost
  gather_facts: true
  vars:
    docker_summary_mock_mode: true
    docker_summary_mode: changes
    docker_summary_write_facts: false
    docker_summary_enable_discovery: false

  tasks:
    - name: Include the actual role tasks
      ansible.builtin.include_tasks: tasks/mock_mode.yml

    - name: Include display summary tasks
      ansible.builtin.include_tasks: tasks/display_summary.yml

    - name: Verify table was displayed
      ansible.builtin.debug:
        msg: |
          ✅ DISPLAY FIX VERIFICATION:
          - Mock mode generated test data
          - Display summary tasks executed
          - Table should be visible above this message
          - Fixed shell output issue → debug output
